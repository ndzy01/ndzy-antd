"use strict";(self.webpackChunkndzy_antd=self.webpackChunkndzy_antd||[]).push([["3455"],{5587:function(e,t,r){r.d(t,{Fo:function(){return g},Rp:function(){return i},nB:function(){return I},qw:function(){return s}});var n=r(7294),u=r(4697),l=r(4285);function i(e,t,r){let n=e.slice();return n.splice(r<0?n.length+r:r,0,n.splice(t,1)[0]),n}function a(e){return null!==e&&e>=0}let o=e=>{let{rects:t,activeIndex:r,overIndex:n,index:u}=e,l=i(t,n,r),a=t[u],o=l[u];return o&&a?{x:o.left-a.left,y:o.top-a.top,scaleX:o.width/a.width,scaleY:o.height/a.height}:null},d={scaleX:1,scaleY:1},s=e=>{var t;let{activeIndex:r,activeNodeRect:n,index:u,rects:l,overIndex:i}=e,a=null!=(t=l[r])?t:n;if(!a)return null;if(u===r){let e=l[i];return e?{x:0,y:r<i?e.top+e.height-(a.top+a.height):e.top-a.top,...d}:null}let o=function(e,t,r){let n=e[t],u=e[t-1],l=e[t+1];return n?r<t?u?n.top-(u.top+u.height):l?l.top-(n.top+n.height):0:l?l.top-(n.top+n.height):u?n.top-(u.top+u.height):0:0}(l,u,r);return u>r&&u<=i?{x:0,y:-a.height-o,...d}:u<r&&u>=i?{x:0,y:a.height+o,...d}:{x:0,y:0,...d}},c="Sortable",f=n.createContext({activeIndex:-1,containerId:c,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:o,disabled:{draggable:!1,droppable:!1}});function g(e){var t;let{children:r,id:i,items:a,strategy:d=o,disabled:s=!1}=e,{active:g,dragOverlay:p,droppableRects:h,over:b,measureDroppableContainers:v}=(0,u.Cj)(),x=(0,l.Ld)(c,i),m=null!==p.rect,I=(0,n.useMemo)(()=>a.map(e=>"object"==typeof e&&"id"in e?e.id:e),[a]),y=null!=g,w=g?I.indexOf(g.id):-1,R=b?I.indexOf(b.id):-1,O=(0,n.useRef)(I),C=!function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}(I,O.current),T=-1!==R&&-1===w||C;let E="boolean"==typeof(t=s)?{draggable:t,droppable:t}:t;(0,l.LI)(()=>{C&&y&&v(I)},[C,I,y,v]),(0,n.useEffect)(()=>{O.current=I},[I]);let M=(0,n.useMemo)(()=>{var e,t;return{activeIndex:w,containerId:x,disabled:E,disableTransforms:T,items:I,overIndex:R,useDragOverlay:m,sortedRects:(e=I,t=h,e.reduce((e,r,n)=>{let u=t.get(r);return u&&(e[n]=u),e},Array(e.length))),strategy:d}},[w,x,E.draggable,E.droppable,T,I,R,h,m,d]);return n.createElement(f.Provider,{value:M},r)}let p=e=>{let{id:t,items:r,activeIndex:n,overIndex:u}=e;return i(r,n,u).indexOf(t)},h=e=>{let{containerId:t,isSorting:r,wasDragging:n,index:u,items:l,newIndex:i,previousItems:a,previousContainerId:o,transition:d}=e;return!!d&&!!n&&(a===l||u!==i)&&(!!r||i!==u&&t===o)},b={duration:200,easing:"ease"},v="transform",x=l.ux.Transition.toString({property:v,duration:0,easing:"linear"}),m={roleDescription:"sortable"};function I(e){let{animateLayoutChanges:t=h,attributes:r,disabled:i,data:o,getNewIndex:d=p,id:s,strategy:c,resizeObserverConfig:g,transition:I=b}=e,{items:y,containerId:w,activeIndex:R,disabled:O,disableTransforms:C,sortedRects:T,overIndex:E,useDragOverlay:M,strategy:k}=(0,n.useContext)(f),D=function(e,t){var r,n;return"boolean"==typeof e?{draggable:e,droppable:!1}:{draggable:null!=(r=null==e?void 0:e.draggable)?r:t.draggable,droppable:null!=(n=null==e?void 0:e.droppable)?n:t.droppable}}(i,O),L=y.indexOf(s),S=(0,n.useMemo)(()=>({sortable:{containerId:w,index:L,items:y},...o}),[w,o,L,y]),j=(0,n.useMemo)(()=>y.slice(y.indexOf(s)),[y,s]),{rect:z,node:N,isOver:X,setNodeRef:Y}=(0,u.Zj)({id:s,data:S,disabled:D.droppable,resizeObserverConfig:{updateMeasurementsFor:j,...g}}),{active:B,activatorEvent:F,activeNodeRect:_,attributes:q,setNodeRef:A,listeners:H,isDragging:K,over:P,setActivatorNodeRef:U,transform:V}=(0,u.O1)({id:s,data:S,attributes:{...m,...r},disabled:D.draggable}),Z=(0,l.HB)(Y,A),G=!!B,J=G&&!C&&a(R)&&a(E),Q=!M&&K,W=Q&&J?V:null,$=J?null!=W?W:(null!=c?c:k)({rects:T,activeNodeRect:_,activeIndex:R,overIndex:E,index:L}):null,ee=a(R)&&a(E)?d({id:s,items:y,activeIndex:R,overIndex:E}):L,et=null==B?void 0:B.id,er=(0,n.useRef)({activeId:et,items:y,newIndex:ee,containerId:w}),en=y!==er.current.items,eu=t({active:B,containerId:w,isDragging:K,isSorting:G,id:s,index:L,items:y,newIndex:er.current.newIndex,previousItems:er.current.items,previousContainerId:er.current.containerId,transition:I,wasDragging:null!=er.current.activeId}),el=function(e){let{disabled:t,index:r,node:i,rect:a}=e,[o,d]=(0,n.useState)(null),s=(0,n.useRef)(r);return(0,l.LI)(()=>{if(!t&&r!==s.current&&i.current){let e=a.current;if(e){let t=(0,u.VK)(i.current,{ignoreTransform:!0}),r={x:e.left-t.left,y:e.top-t.top,scaleX:e.width/t.width,scaleY:e.height/t.height};(r.x||r.y)&&d(r)}}r!==s.current&&(s.current=r)},[t,r,i,a]),(0,n.useEffect)(()=>{o&&d(null)},[o]),o}({disabled:!eu,index:L,node:N,rect:z});return(0,n.useEffect)(()=>{G&&er.current.newIndex!==ee&&(er.current.newIndex=ee),w!==er.current.containerId&&(er.current.containerId=w),y!==er.current.items&&(er.current.items=y)},[G,ee,w,y]),(0,n.useEffect)(()=>{if(et===er.current.activeId)return;if(et&&!er.current.activeId){er.current.activeId=et;return}let e=setTimeout(()=>{er.current.activeId=et},50);return()=>clearTimeout(e)},[et]),{active:B,activeIndex:R,attributes:q,data:S,rect:z,index:L,newIndex:ee,items:y,isOver:X,isSorting:G,isDragging:K,listeners:H,node:N,overIndex:E,over:P,setNodeRef:Z,setActivatorNodeRef:U,setDroppableNodeRef:Y,setDraggableNodeRef:A,transform:null!=el?el:$,transition:function(){return el||en&&er.current.newIndex===L?x:(!Q||(0,l.vd)(F))&&I?G||eu?l.ux.Transition.toString({...I,property:v}):void 0:void 0}()}}u.g4.Down,u.g4.Right,u.g4.Up,u.g4.Left}}]);
"use strict";(self.webpackChunkndzy_antd=self.webpackChunkndzy_antd||[]).push([["369"],{6041:function(e,n,r){r.d(n,{Z:()=>M});var t=r("6019"),a=r("7508"),u=r("8133"),o=r("5002"),i=r("2685"),c=r("8847"),s=r("5252"),l=r("4098"),f=r("3387"),d=r.n(f),p=r("3674"),v=r("8410"),m=r("4947"),b=r("2550"),g=r("7294"),N=r("334"),Z=r("8182"),E=r("5164");function h(e){var n=e.prefixCls,r=e.upNode,u=e.downNode,o=e.upDisabled,i=e.downDisabled,c=e.onStep,s=g.useRef(),l=g.useRef([]),f=g.useRef();f.current=c;var p=function(){clearTimeout(s.current)},v=function(e,n){e.preventDefault(),p(),f.current(n);s.current=setTimeout(function e(){f.current(n),s.current=setTimeout(e,200)},600)};if(g.useEffect(function(){return function(){p(),l.current.forEach(function(e){return E.Z.cancel(e)})}},[]),(0,Z.Z)())return null;var m="".concat(n,"-handler"),b=d()(m,"".concat(m,"-up"),(0,a.Z)({},"".concat(m,"-up-disabled"),o)),N=d()(m,"".concat(m,"-down"),(0,a.Z)({},"".concat(m,"-down-disabled"),i)),h=function(){return l.current.push((0,E.Z)(p))},w={unselectable:"on",role:"button",onMouseUp:h,onMouseLeave:h};return g.createElement("div",{className:"".concat(m,"-wrap")},g.createElement("span",(0,t.Z)({},w,{onMouseDown:function(e){v(e,!0)},"aria-label":"Increase Value","aria-disabled":o,className:b}),r||g.createElement("span",{unselectable:"on",className:"".concat(n,"-handler-up-inner")})),g.createElement("span",(0,t.Z)({},w,{onMouseDown:function(e){v(e,!1)},"aria-label":"Decrease Value","aria-disabled":i,className:N}),u||g.createElement("span",{unselectable:"on",className:"".concat(n,"-handler-down-inner")})))}function w(e){var n="number"==typeof e?(0,s.vP)(e):(0,s._V)(e).fullStr;return n.includes(".")?(0,s._V)(n.replace(/(\d)\.(\d)/g,"$1$2.")).fullStr:e+"0"}var y=r("7887");let x=function(){var e=(0,g.useRef)(0),n=function(){E.Z.cancel(e.current)};return(0,g.useEffect)(function(){return n},[]),function(r){n(),e.current=(0,E.Z)(function(){r()})}};var S=["prefixCls","className","style","min","max","step","defaultValue","value","disabled","readOnly","upHandler","downHandler","keyboard","changeOnWheel","controls","classNames","stringMode","parser","formatter","precision","decimalSeparator","onChange","onInput","onPressEnter","onStep","changeOnBlur","domRef"],C=["disabled","style","prefixCls","value","prefix","suffix","addonBefore","addonAfter","className","classNames"],R=function(e,n){return e||n.isEmpty()?n.toString():n.toNumber()},P=function(e){var n=(0,c.ZP)(e);return n.isInvalidate()?null:n},D=g.forwardRef(function(e,n){var r,f,p,m=e.prefixCls,Z=e.className,E=e.style,y=e.min,C=e.max,D=e.step,I=void 0===D?1:D,M=e.defaultValue,k=e.value,H=e.disabled,T=e.readOnly,O=e.upHandler,A=e.downHandler,B=e.keyboard,q=e.changeOnWheel,U=void 0!==q&&q,V=e.controls,W=(e.classNames,e.stringMode),F=e.parser,_=e.formatter,K=e.precision,L=e.decimalSeparator,z=e.onChange,Q=e.onInput,X=e.onPressEnter,$=e.onStep,Y=e.changeOnBlur,j=void 0===Y||Y,G=e.domRef,J=(0,i.Z)(e,S),ee="".concat(m,"-input"),en=g.useRef(null),er=g.useState(!1),et=(0,o.Z)(er,2),ea=et[0],eu=et[1],eo=g.useRef(!1),ei=g.useRef(!1),ec=g.useRef(!1),es=g.useState(function(){return(0,c.ZP)(null!=k?k:M)}),el=(0,o.Z)(es,2),ef=el[0],ed=el[1],ep=g.useCallback(function(e,n){return n?void 0:K>=0?K:Math.max((0,s.NX)(e),(0,s.NX)(I))},[K,I]),ev=g.useCallback(function(e){var n=String(e);if(F)return F(n);var r=n;return L&&(r=r.replace(L,".")),r.replace(/[^\w.-]+/g,"")},[F,L]),em=g.useRef(""),eb=g.useCallback(function(e,n){if(_)return _(e,{userTyping:n,input:String(em.current)});var r="number"==typeof e?(0,s.vP)(e):e;if(!n){var t=ep(r,n);if((0,s.mE)(r)&&(L||t>=0)){var a=L||".";r=(0,l.FH)(r,a,t)}}return r},[_,ep,L]),eg=g.useState(function(){var e=null!=M?M:k;return ef.isInvalidate()&&["string","number"].includes((0,u.Z)(e))?Number.isNaN(e)?"":e:eb(ef.toString(),!1)}),eN=(0,o.Z)(eg,2),eZ=eN[0],eE=eN[1];function eh(e,n){eE(eb(e.isInvalidate()?e.toString(!1):e.toString(!n),n))}em.current=eZ;var ew=g.useMemo(function(){return P(C)},[C,K]),ey=g.useMemo(function(){return P(y)},[y,K]),ex=g.useMemo(function(){return!(!ew||!ef||ef.isInvalidate())&&ew.lessEquals(ef)},[ew,ef]),eS=g.useMemo(function(){return!(!ey||!ef||ef.isInvalidate())&&ef.lessEquals(ey)},[ey,ef]);var eC=(r=en.current,f=ea,p=(0,g.useRef)(null),[function(){try{var e=r.selectionStart,n=r.selectionEnd,t=r.value,a=t.substring(0,e),u=t.substring(n);p.current={start:e,end:n,value:t,beforeTxt:a,afterTxt:u}}catch(e){}},function(){if(r&&p.current&&f)try{var e=r.value,n=p.current,t=n.beforeTxt,a=n.afterTxt,u=n.start,o=e.length;if(e.startsWith(t))o=t.length;else if(e.endsWith(a))o=e.length-p.current.afterTxt.length;else{var i=t[u-1],c=e.indexOf(i,u-1);-1!==c&&(o=c+1)}r.setSelectionRange(o,o)}catch(e){(0,N.ZP)(!1,"Something warning of cursor restore. Please fire issue about this: ".concat(e.message))}}]),eR=(0,o.Z)(eC,2),eP=eR[0],eD=eR[1],eI=function(e){return ew&&!e.lessEquals(ew)?ew:ey&&!ey.lessEquals(e)?ey:null},eM=function(e){return!eI(e)},ek=function(e,n){var r=e,t=eM(r)||r.isEmpty();if(!r.isEmpty()&&!n&&(r=eI(r)||r,t=!0),!T&&!H&&t){var a,u=r.toString(),o=ep(u,n);if(o>=0&&!eM(r=(0,c.ZP)((0,l.FH)(u,".",o)))&&(r=(0,c.ZP)((0,l.FH)(u,".",o,!0))),!r.equals(ef)){;a=r,void 0===k&&ed(a),null==z||z(r.isEmpty()?null:R(W,r)),void 0===k&&eh(r,n)}return r}return ef},eH=x(),eT=function e(n){if(eP(),em.current=n,eE(n),!ei.current){var r=ev(n),t=(0,c.ZP)(r);!t.isNaN()&&ek(t,!0)}null==Q||Q(n),eH(function(){var r=n;!F&&(r=n.replace(/ã€‚/g,".")),r!==n&&e(r)})},eO=function(e){if((!e||!ex)&&(!!e||!eS)){eo.current=!1;var n,r=(0,c.ZP)(ec.current?w(I):I);!e&&(r=r.negate());var t=ek((ef||(0,c.ZP)(0)).add(r.toString()),!1);null==$||$(R(W,t),{offset:ec.current?w(I):I,type:e?"up":"down"}),null===(n=en.current)||void 0===n||n.focus()}},eA=function(e){var n,r=(0,c.ZP)(ev(eZ));n=r.isNaN()?ek(ef,e):ek(r,e),void 0!==k?eh(ef,!1):!n.isNaN()&&eh(n,!1)};return g.useEffect(function(){if(U&&ea){var e=function(e){eO(e.deltaY<0),e.preventDefault()},n=en.current;if(n)return n.addEventListener("wheel",e,{passive:!1}),function(){return n.removeEventListener("wheel",e)}}}),(0,v.o)(function(){!ef.isInvalidate()&&eh(ef,!1)},[K,_]),(0,v.o)(function(){var e=(0,c.ZP)(k);ed(e);var n=(0,c.ZP)(ev(eZ));(!e.equals(n)||!eo.current||_)&&eh(e,eo.current)},[k]),(0,v.o)(function(){_&&eD()},[eZ]),g.createElement("div",{ref:G,className:d()(m,Z,(0,a.Z)((0,a.Z)((0,a.Z)((0,a.Z)((0,a.Z)({},"".concat(m,"-focused"),ea),"".concat(m,"-disabled"),H),"".concat(m,"-readonly"),T),"".concat(m,"-not-a-number"),ef.isNaN()),"".concat(m,"-out-of-range"),!ef.isInvalidate()&&!eM(ef))),style:E,onFocus:function(){eu(!0)},onBlur:function(){j&&eA(!1),eu(!1),eo.current=!1},onKeyDown:function(e){var n=e.key,r=e.shiftKey;if(eo.current=!0,ec.current=r,"Enter"===n&&(!ei.current&&(eo.current=!1),eA(!1),null==X||X(e)),!1!==B)!ei.current&&["Up","ArrowUp","Down","ArrowDown"].includes(n)&&(eO("Up"===n||"ArrowUp"===n),e.preventDefault())},onKeyUp:function(){eo.current=!1,ec.current=!1},onCompositionStart:function(){ei.current=!0},onCompositionEnd:function(){ei.current=!1,eT(en.current.value)},onBeforeInput:function(){eo.current=!0}},(void 0===V||V)&&g.createElement(h,{prefixCls:m,upNode:O,downNode:A,upDisabled:ex,downDisabled:eS,onStep:eO}),g.createElement("div",{className:"".concat(ee,"-wrap")},g.createElement("input",(0,t.Z)({autoComplete:"off",role:"spinbutton","aria-valuemin":y,"aria-valuemax":C,"aria-valuenow":ef.isInvalidate()?null:ef.toString(),step:I},J,{ref:(0,b.sQ)(en,n),className:ee,value:eZ,onChange:function(e){eT(e.target.value)},disabled:H,readOnly:T}))))}),I=g.forwardRef(function(e,n){var r=e.disabled,a=e.style,u=e.prefixCls,o=void 0===u?"rc-input-number":u,c=e.value,s=e.prefix,l=e.suffix,f=e.addonBefore,d=e.addonAfter,v=e.className,b=e.classNames,N=(0,i.Z)(e,C),Z=g.useRef(null),E=g.useRef(null),h=g.useRef(null);return g.useImperativeHandle(n,function(){return(0,m.Z)(h.current,{nativeElement:Z.current.nativeElement||E.current})}),g.createElement(p.Q,{className:v,triggerFocus:function(e){h.current&&(0,y.nH)(h.current,e)},prefixCls:o,value:c,disabled:r,style:a,prefix:s,suffix:l,addonAfter:d,addonBefore:f,classNames:b,components:{affixWrapper:"div",groupWrapper:"div",wrapper:"div",groupAddon:"div"},ref:Z},g.createElement(D,(0,t.Z)({prefixCls:o,disabled:r,ref:h,domRef:E,className:null==b?void 0:b.input},N)))});let M=I}}]);